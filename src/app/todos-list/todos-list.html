<h1>NgRx Signal Store Todo App</h1>

<mat-form-field class="todo-input">
  <mat-label>Enter a Todo...</mat-label>
  <input matInput #input (keyup.enter)="onAddTodo(input.value); input.value = ''" />
  <mat-icon matSuffix>edit</mat-icon>
</mat-form-field>

<mat-button-toggle-group [value]="store.filter()" (valueChange)="onFilterChange($event)">
  <mat-button-toggle value="all">All</mat-button-toggle>
  <mat-button-toggle value="active">Active</mat-button-toggle>
  <mat-button-toggle value="completed">Completed</mat-button-toggle>
</mat-button-toggle-group>

<div class="todos-list">
  @for (todo of store.filteredTodos(); track todo.id) {
  <div class="todo-item">
    <mat-checkbox [checked]="todo.completed" (change)="updateTodo(todo.id, $event.checked)">
      <span
        [ngStyle]="{
          'text-decoration': todo.completed ? 'line-through' : 'none'
        }"
      >
        {{ todo.title }}
      </span>
    </mat-checkbox>

    <mat-icon class="delete-todo" (click)="onDeleteTodo(todo.id, $event)"> delete </mat-icon>
  </div>
  }
</div>
